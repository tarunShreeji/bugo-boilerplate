{{/**
   * Horizontal Menu Template
   *
   * Displays a Hugo menu horizontally
   *
   * @version 1.0.0
	 *
   */}}

{{ $currentPage := .page }}
{{ $location := .location }}
{{ $display := .display }}
<nav class="nav-horizontal nav-{{ $location }}">
  <ul class="list-inline">
    {{ range $index, $menuItem := .menu }}

    <li class="list-inline-item {{ if .HasChildren }}nested {{ end }}{{ if $currentPage.IsMenuCurrent $location . }}current{{ end }}{{ if $currentPage.HasMenuCurrent $location . }}current{{ end }}">
      {{ if $menuItem.HasChildren }}
      <a 
        class="nav-link {{ $menuItem.Name | urlize }} {{if or ($currentPage.IsMenuCurrent $location .) ($currentPage.HasMenuCurrent $location .) }} current{{end}}" 
        href="#{{ $menuItem.Name | urlize }}" id="navbarDropdown" 
        role="button" data-toggle="collapse" 
        data-display="static" 
        aria-haspopup="true" aria-expanded="false" tabindex="0"
      >
        {{ $menuItem.Pre }}
        {{ $menuItem.Name }}
        {{ $menuItem.Post }}
      </a>
      <!-- <div class="dropdown-menu" aria-labelledby="navbarDropdown">
        {{ range $menuItem.Children }}
        <a class="dropdown-item {{ $menuItem.Name | urlize }}{{ if $currentPage.IsMenuCurrent $location . }} current{{ end }}" href="{{ .URL }}" {{ if or ( in .URL "http://" ) (in .URL "https://" )}} target="_blank" {{ end }}  tabindex="0">
          {{ .Name }}
        </a>
        {{ end }}
      </div> -->
      {{ else }}
      <a class="nav-link {{ if .HasChildren }}dropdown-toggle{{ end }} {{ $menuItem.Name | urlize }}" href="{{ .URL }}" {{ if or ( in .URL "http://" ) (in .URL "https://" )}} target="_blank" {{ end }} tabindex="0">
        {{ $menuItem.Pre }}
        {{ $menuItem.Name }}
        {{ $menuItem.Post }}
        {{ if $menuItem.HasChildren }}
        <i class='icon-chevron-down'></i>
        {{ end }}
      </a>
      {{ end }}
    </li>
    {{ end }}
  </ul>
</nav>